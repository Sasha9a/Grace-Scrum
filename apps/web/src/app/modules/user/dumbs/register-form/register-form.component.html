<h1 class="text-center">Регистрация</h1>
<div class="p-fluid">
  <div class="field">
    <label class="font-bold required-field">Почта</label>
    <input type="email" pInputText
           [ngClass]="{ 'ng-invalid ng-dirty': errors?.email }"
           [(ngModel)]="userRegister.email" (ngModelChange)="changeEmail()" />
    <p *ngIf="errors?.email" class="p-error">{{ errors.email | join }}</p>
  </div>

  <div class="field">
    <label class="font-bold required-field">Логин</label>
    <input type="text" pInputText
           [ngClass]="{ 'ng-invalid ng-dirty': errors?.login || errorLogin }"
           (ngModelChange)="changeLogin()"
           [(ngModel)]="userRegister.login" />
    <p *ngIf="errors?.login && !errorLogin" class="p-error">{{ errors.login | join }}</p>
    <p *ngIf="errors?.login && errorLogin" class="p-error">{{ errors.login | join }}, {{ errorLogin }}</p>
    <p *ngIf="!errors?.login && errorLogin" class="p-error">{{ errorLogin }}</p>
  </div>

  <div class="field">
    <label class="font-bold">ФИО</label>
    <input type="email" pInputText
           [ngClass]="{ 'ng-invalid ng-dirty': errors?.name }"
           [(ngModel)]="userRegister.name" />
    <p *ngIf="errors?.name" class="p-error">{{ errors.name | join }}</p>
  </div>

  <div class="field">
    <label class="font-bold required-field">Пароль</label>
    <div class="p-inputgroup">
      <input pInputText type="text"
             [(ngModel)]="userRegister.password"
             [ngClass]="{ 'ng-invalid ng-dirty': errors?.password }"
             autocomplete="new-password" />
      <button type="button" pButton label="Сгенерировать" (click)="generatePassword()" class="p-button-secondary"></button>
    </div>
    <p *ngIf="errors?.password" class="p-error">{{ errors?.password }}</p>
  </div>

  <div class="field">
    <label class="font-bold required-field">Повтор пароля</label>
    <input pInputText type="password"
           [(ngModel)]="passwordRepeat"
           class="w-full"
           [ngClass]="{ 'ng-invalid ng-dirty': errorPasswordRepeat }"
           (ngModelChange)="changePassword()"
           autocomplete="new-password" />
    <p *ngIf="errorPasswordRepeat" class="p-error">{{ errorPasswordRepeat }}</p>
  </div>
</div>

<button pButton label="Регистрация" class="p-button-success w-full" (click)="onSave(userRegister)"></button>
